<template name="tmplMovieDetail">
	{{> tmpl_breadcrumbs breadcrumbs}}

	<ul class="nav nav-tabs nav-justified">
		<li class="active"><a href="#">Movie</a></li>
		<li><a href="/sciFiMovies/timelines/{{_id}}">Timelines</a></li>
		<li><a href="/sciFiMovies/cast/{{_id}}">Cast</a></li>
		<li><a href="/sciFiMovies/facts/{{_id}}">Facts</a></li>
	</ul>

	<div class="panel panel-purple">
		<div class="panel-heading">

			<h2 class="panel-title">{{title}}
				{{#if canEdit}}
				<div class="pull-right" style="margin-top: -5px;">
					<button type="button" class="btn btn-default btn-sm" id="btnEditToggle">&nbsp;&nbsp;Edit&nbsp;&nbsp;</button>
				</div>
				{{/if}}
		<!--<div class="clearfix"></div>-->
			</h2>
		</div>
		<div class="panel-body">

			<form class="add modal-nav-box box-hide form-horizontal" id="form_movie">

				{{#if isAdmin}}
					{{form_input "_id" "_id" _id false}}
					{{form_select "Status" "status" status statusOptions "" canEditAndEditToggle true}}
				{{else}}
					<input type="hidden" value="{{_id}}" name="_id"/>
				{{/if}}

				<!-- COMMON FIELDS -->
				{{form_input "Title" "title" title canEditAndEditToggle true}}
				{{form_input "Year" "year" year canEditAndEditToggle false}}
				{{form_date "Release Date" "release_date" formattedReleaseDate canEditAndEditToggle true}}
				{{form_input "Original Title" "original_title" original_title canEditAndEditToggle false}}
				{{form_select "MPAA Rating" "mpaa_rating" mpaa_rating options "" canEditAndEditToggle true}}
				{{form_input "Runtime (Minutes)" "runtime" runtime canEditAndEditToggle false}}
				{{form_input "Tagline" "tagline" tagline canEditAndEditToggle false}}
				{{form_textarea "Overview" "overview" overview canEditAndEditToggle false}}
				{{form_textarea "Critics Consensus" "critics_consensus" critics_consensus canEditAndEditToggle false}}
				{{form_checkbox "Adult Content" "adult" adult canEditAndEditToggle true}}

				{{form_static "Author" "author" author true}}
				{{#if isAdmin}}
					{{form_static "Author UserId" "userId" userId true}}
				{{/if}}
				{{form_static "Created" "created" createdAgo true}}
				{{form_static "Updated" "updated" updatedAgo false}}

				<div class="form-group">
					<div class="col-offset-2 col-sm-4">
						{{#if canEditAndEditToggle}}
							<button type="button" class="btn btn-primary" id="btnUpdateMovie">Update</button>
							<button type="button" class="btn btn-danger" id="btnDeleteMovie">Delete</button>
						{{/if}}
					</div>
				</div>
			</form>
		</div>
	</div>

</template>


<template name="tmplMovieDetail_OLD">
	{{> tmpl_breadcrumbs breadcrumbs}}

	<div class="panel panel-primary">
		<div class="panel-heading">
			<h2 class="panel-title">{{title}}</h2>
		</div>
		<div class="panel-body">


			<form class="add modal-nav-box box-hide form-horizontal" id="form_movie">

				{{#if isAdmin}}
				<div class="form-group row">
					<label for="_id" class="col-sm-2 control-label">_id</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="_id" value="{{_id}}" readonly />
					</div>
				</div>
				<div class="form-group row">
					<label for="id" class="col-sm-2 control-label">id(MyMovieDB)</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="id" value="{{id}}" readonly />
					</div>
				</div>
				<div class="form-group row">
					<label for="voters" class="col-sm-2 control-label">voters</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="voters" value="{{upvoters}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="backdrop_path" class="col-sm-2 control-label">backdrop_path</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="backdrop_path" value="{{backdrop_path}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="poster_path" class="col-sm-2 control-label">poster_path</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="poster_path" value="{{poster_path}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="popularity" class="col-sm-2 control-label">popularity</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="popularity" value="{{popularity}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="vote_average" class="col-sm-2 control-label">vote_average</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="vote_average" value="{{vote_average}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="vote_count" class="col-sm-2 control-label">vote_count</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="vote_count" value="{{vote_count}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="comment_count" class="col-sm-2 control-label">comment_count</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="comment_count" value="{{comment_count}}" {{isReadOnly}} />
					</div>
				</div>
				{{else}}
				<input type="hidden" value="{{_id}}" name="_id"/>
				{{/if}}

				{{form_input "title" title}}
				{{form_input "adult" adult}}
				{{form_input "original_title" original_title}}
				{{form_input "release_date" release_date}}
				<!--
				<div class="form-group row">
					<label for="title" class="col-sm-2 control-label">title</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="title" value="{{title}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="adult" class="col-sm-2 control-label">adult</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="adult" value="{{adult}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="original_title" class="col-sm-2 control-label">original_title</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="original_title" value="{{original_title}}" {{isReadOnly}} />
					</div>
				</div>
				<div class="form-group row">
					<label for="release_date" class="col-sm-2 control-label">release_date</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="release_date" value="{{release_date}}" {{isReadOnly}} />
					</div>
				</div>
				-->

				<div class="form-group">
					<div class="col-offset-2 col-sm-4">
						{{#if canEditAndEditToggle}}
						<button type="button" class="btn btn-primary" id="btnUpdateMovie">Update</button>
						<button type="button" class="btn btn-primary" id="btnCancelMovie">Cancel</button>
						<button type="button" class="btn btn-danger" id="btnDeleteMovie">Delete</button>
						{{/if}}
					</div>
				</div>
			</form>
		</div>
	</div>

	{{> tmplSortedMovieTimelineList}}

</template>
